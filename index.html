<!DOCTYPE html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>CodeEd_Photo Quiz</title>
    <meta name="viewport" content="width=device-width">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/prism.css">
    <link rel="stylesheet" href="assets/prism-hacktionary.js/prism-hacktionary.css">
    <link rel="stylesheet" href="assets/css/main.css">
  </head>
  <body data-spy="scroll" data-target="#nav" data-offset="50">

    <div class="container">

      <nav class="navbar navbar-fixed-top" role="navigation" id="nav">
        <div class="container">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="https://decoded.co/" class="navbar-brand"><span>CodeEd</span>_Photo Quiz</a>
          <a href="https://decoded.co/" class="logo pull-right"><img src="assets/images/decoded-logo.png" alt="Decoded" height="30"></a>
          <ul class="pull-left nav navbar-nav collapse navbar-collapse">
            <li><a href="#intro">Introduction</a></li>
            <li><a href="#structure">Structure</a></li>
            <li><a href="#styles">Styles</a></li>
            <li><a href="#questions">Loading Questions</a></li>
            <li><a href="#flickr">Flickr API</a></li>
            <li><a href="#interaction">Interaction</a></li>
          </ul>
        </div>
      </nav>

      <section id="intro" class="clearfix">
        <div class="page-header col-sm-12"><h1>CodeEd<span>_Photo Quiz</span></h1></div>
        <p class="lead col-sm-12">
          Learn to build a simple photo quiz that will run on computers, tablets, and smartphones.
        </p>

        <div class="clearfix">
          <div class="col-sm-6">
            <p>
              We will use core web technologies - HTML, CSS, and Javascript (you
              should have a very basic familiarity with these) - with a few open
              source libraries - <a href="http://jquery.com/">jQuery</a> and
              <a href="http://getbootstrap.com/">Twitter Bootstrap</a> - plus
              <a href="http://www.flickr.com/services/api/">flickr's API</a> for
              fetching the photos for our quiz. Finally, we will save user scores
              with <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/DOM/Storage#sessionStorage">HTML5 localStorage</a>.
            </p>
          </div>

          <div class="col-sm-6">
            <h4 class="no-top">You/your students should have:</h4>
            <ul>
              <li>A basic understanding of HTML and CSS</li>
              <li>A text editor</li>
              <li>A modern browser - Firefox, Chrome, or Internet Explorer 9+ will all work.</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="structure" class="clearfix">
        <h2 class="col-sm-12">HTML Structure</h2>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              Let's start off with an empty HTML document.
            </p>
            <p>
              Create a file called <code>index.html</code> in your text editor,
              and write a basic empty HTML document. You should be able to more or
              less understand the example. There are a couple of extra
              <code class="language-markup">&lt;meta&gt;</code> tags in there you might not recognize:
            </p>
            <ul>
              <li>
                <code class="language-markup inline">&lt;meta charset=&quot;utf-8&quot;&gt;</code>
                lets us use special characters like á, ü, and 汉.
              </li>
              <li>
                <code class="language-markup inline">&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;</code>
                stops the browser using compatibility mode.
              </li>
              <li>
                <code class="language-markup inline">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt;</code>
                makes sure our app looks good on mobiles.
              </li>
            </ul>
          </div>
          <div class="col-sm-6 codeblock" data-example="01">
            <pre class="line-numbers" data-src="app/01/index.html" data-line="4,5,7" data-type="HTML"></pre>
          </div>
        </div>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              Now, we need to start putting the pieces of our app in place.
            </p>
            <p>
              Inside the <code class="language-markup inline">&lt;body&gt;</code>
              tag, we will need a couple of things - a <code class="language-markup inline">
              &lt;header&gt;</code> for a title etc., and an <code class="language-markup inline">
              &lt;ol&gt;</code> <strong>O</strong>rdered <strong>L</strong>ist
              for our questions.
            </p>
            <p>
              For now, the <code class="language-markup inline"> &lt;header&gt;</code>
              can just contain a <code class="language-markup inline">&lt;div&gt;</code>
              with a <code class="language-markup inline">&lt;h1&gt;</code> inside it
              for the title of our app. We'll add more stuff (like a score) later.
            </p>
            <div class="alert alert-info">
              <strong>Note:</strong> At the moment, those <code class="language-markup inline">&lt;div&gt;</code>
              tags aren't actually doing anything. Later on though, we'll use them to
              keep our page nicely centered.
            </div>
            <p>
              The <code class="language-markup inline">&lt;ol&gt;</code> needs
              to be wrapped in a <code class="language-markup inline">&lt;div&gt;</code>,
              and should contain some <code class="language-markup inline">&lt;li&gt;</code>
              <strong>L</strong>ist <strong>I</strong>tem tags. Each one will
              contain a question and four images for answers. The question is in
              a <code class="language-markup inline">&lt;p&gt;</code>, and each
              of the possible answers is a <code class="language-markup inline">&lt;button&gt;</code>.
            </p>
            <p>
              Each <code class="language-markup inline">&lt;button&gt;</code>
              contains an <code class="language-markup inline">&lt;img&gt;</code> tag (an image).
              The <code class="language-noop"><span class="token attr-name">src</span>=</code>
              attribute is the location of the image on the web - its URL. For
              now, we're just using a placeholder image:
              <a href="http://placekitten.com/100/100">http://placekitten.com/100/100</a>.
            </p>
          </div>
          <div class="col-sm-6 codeblock" data-example="02">
            <pre class="line-numbers" data-src="assets/examples/02-body.html" data-type="HTML"></pre>
          </div>
        </div>
      </section>

      <section id="styles" class="clearfix">
        <h2 class="col-sm-12">
          Styling with Bootstrap
        </h2>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              We can use Bootstrap to make our app look good fast.
            </p>
            <p>
              Bootstrap is an open source library by Twitter. It's basically just
              a load of CSS and Javascript that helps you get going with a web
              project faster. Installing it is super easy: just paste this
              snippet into your <code class="language-markup inline">&lt;head&gt;
              </code> element: <code class="language-markup inline">&lt;link
              href=&quot;http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc2/css/bootstrap.min.css&quot;
              rel=&quot;stylesheet&quot;&gt;</code>
            </p>
            <p>
              If this has worked, your page should now be using a different font.
            </p>
          </div>

          <div class="col-sm-6 codeblock" data-example="03">
            <pre class="line-numbers" data-src="assets/examples/03-head.html" data-line="6" data-type="HTML"></pre>
          </div>
        </div>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">Bootstrap styles are applied using classes.</p>
            <p>
              First, the <code class="language-markup inline">&lt;header&gt;</code> tag. We want
              this to be a bar fixed to the top of the screen. Bootstrap gives us a
              <a href="http://getbootstrap.com/components/#navbar"> navbar component</a> to do this, so we set
              <code class="language-noop"><span class="token attr-name">class</span><span class="token attr-value"><span class="punctuation">=&quot;</span>navbar navbar-default navbar-fixed-top<span class="punctuation">&quot;</span></span></code> on the element.
            </p>
            <p>
              Next, the <code class="language-markup inline">&lt;ol&gt;</code> <strong>O</strong>rdered
              <strong>L</strong>ist. This wants to have all its list items in a row, so we use Bootstrap's
              <a href="http://getbootstrap.com/css/#type-lists">list-inline</a>:
              <code class="language-noop"><span class="token attr-name">class</span><span class="token attr-value"><span class="punctuation">=&quot;</span>list-inline<span class="punctuation">&quot;</span></span></code>
            </p>
            <p>
              As for the individual buttons, we need to get Bootstrap to style them as such. The Bootstrap
              website shows us that there are lots of <a href="http://getbootstrap.com/css/#buttons">
              button options</a> to choose from. Each one needs class
              <code class="language-noop"><span class="token attr-value">btn</span></code>,
              and you can choose from the options on the page (
              <code class="language-noop"><span class="token attr-value">btn-primary</span></code>,
              <code class="language-noop"><span class="token attr-value">btn-success</span></code>,
              <code class="language-noop"><span class="token attr-value">btn-info</span></code>, etc.)
              to change how the button looks. I used
              <code class="language-noop"><span class="token attr-value">btn-default</span></code>.
            </p>
            <div class="alert alert-info">
              <strong>Note:</strong> you must include at least one of the
              <code class="language-noop"><span class="token attr-value">btn-...</span></code>
              classes on each <code class="language-markup inline">&lt;button&gt;</code> element.
            </div>
            <p>
              Finally, layout. The two <code class="language-markup inline">&lt;div&gt;</code> tags can be kept centered
              with a <code class="language-noop"><span class="token attr-value">container</span></code> class. The
              <code class="language-markup inline">&lt;li&gt;</code> tags can be made to look good on all devices with
              Bootstrap's responsive grid system. You can read more about it <a href="TODO">in the docs</a>, but I found
              the best combination was <code class="language-noop">&quot;<span class="token attr-value">col-xs-12 col-sm-12 col-md-6 col-lg-4</span>&quot;</code>.
            </p>
            <p>
              Initially, your page might look pretty weird, but don't worry: we'll fix that next.
            </p>
          </div>

          <div class="col-sm-6 codeblock" data-example="04">
            <pre class="line-numbers" data-src="assets/examples/04-body.html" data-type="HTML"></pre>
          </div>
        </div>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              Tweaking Bootstrap with custom CSS.
            </p>
            <p>
              At the moment, your page is probably looking a bit odd. We need to tweak Bootstrap's default styles with some
              custom CSS! Start off by making a file called <code>style.css</code> in the same folder
              as your <code>index.html</code>.
            </p>
            <p>
              Now, we need to include the file in our HTML. At the bottom of your
              <code class="language-markup inline">&lt;head&gt;</code> tag, add a
              <code class="language-markup inline">&lt;link&gt;</code> tag to include your css. Remember to include a
              <code class="language-noop"><span class="token attr-name">rel</span></code> and a
              <code class="language-noop"><span class="token attr-name">href</span></code>!
            </p>
            <p>
              Let's write some CSS. First, that top bar is way too big. That's because the
              <code class="language-markup inline">&lt;h1&gt;</code> has margins above and below that make it take up
              more space than it needs. We can fix that with <code class="language-css inline">margin: 0;</code>.
            </p>
            <p>
              The top bar should be a more reasonable size now, but it's still covering our pictures.
              We need to add some space before any of our content. To do this, we can simply set
              <code class="language-css inline">padding-top: 70px;</code> on
              <code class="language-markup inline">&lt;body&gt;</code>.
            </p>
          </div>

          <div class="col-sm-6 codeblock" data-example="05">
            <pre class="line-numbers" data-src="assets/examples/05-head.html" data-line="7" data-type="HTML"></pre>
            <pre class="line-numbers" data-src="assets/examples/05-style.css" data-type="CSS"></pre>
          </div>
        </div>
      </section>

      <section id="questions" class="clearfix">
        <h2 class="col-sm-12">
          Loading Questions
        </h2>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              We can use jQuery to make adding interaction to our app easier.
            </p>
            <p>
              First, we need to import jQuery into our app. Just like with bootstrap, this is super
              easy. We just need to include one line of code at the end of our app's
              <code class="inline language-markup">&lt;body&gt;</code>:
            </p>
            <p>
              <code class="language-markup inline">&lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js&quot;&gt;&lt;/script&gt;</code>
            </p>
            <p>
              We also need to include our own Javascript file. Add a <code class="language-markup inline">&lt;script&gt;</code>
              tag just after the one for jQuery, and create a file for it to point to called <code>quiz.js</code>.
              Remember to add an <code class="language-noop inline"><span class="token attr-name">src</span></code>
              attribute!
            </p>
            <p>
              For now, just copy the JS code shown into your <code>quiz.js</code> file. We'll go through and
              explain in in a moment. Just check that when you load the page, a box pops up and says "Success!".
            </p>
          </div>
          <div class="col-sm-6 codeblock" data-example="06">
            <pre class="line-numbers" data-src="assets/examples/06-body.html" data-type="html" data-line="11,12"></pre>
            <pre class="line-numbers" data-src="assets/examples/06-js.js" data-type="javascript"></pre>
          </div>
        </div>

        <div class="two-up">
          <div class="col-sm-12">
            <p class="lead">
              Let's try and understand our Javascript code.
            </p>
            <p>
              Javascript is something called a <em>procedural</em> language. This means that it starts
              at the top of your file and reads downwards, running each instruction as it comes to it.
              Click on the lines of code below for a detailed explanation of what each does.
            </p>
            <div class="panel-group" id="code-06-explain">
              <div class="panel panel-default">
                <a href="#exp-06-line-1" class="accordon-toggle" data-toggle="collapse" data-parent="#code-06-explain">
                  <pre class="line-numbers language-javascript"><code>function loadQuiz() {</code></pre>
                </a>
                <div class="collapse panel-collapse" id="exp-06-line-1">
                  <div class="panel-body">
                    <p>
                      Here, we declare a <code class="language-javascript inline">function</code>. A function
                      is like a program within a program that we give a name to. In this case, we've called
                      it <code class="language-javascript inline">loadQuiz</code>. Everything between the opening
                      <code>{</code> and closing <code>}</code> is part of the function.
                    </p>
                    <p>
                      Functions let us reuse code. We can define a function once, and then reuse it as many
                      times as we like. They also can keep our code more organized, as they let us label sections
                      of code as having specific purposes.
                    </p>
                    <div class="alert alert-info">
                      <strong>Note:</strong> none of the instructions inside the function will be run just yet.
                      We'd have to call the function first, which looks like this:
                      <code class="language-javascript inline">loadQuiz();</code>
                    </div>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <a href="#exp-06-line-2" class="accordon-toggle" data-toggle="collapse" data-parent="#code-06-explain">
                  <pre class="line-numbers language-javascript" data-start="2"><code>  alert("Success!");</code></pre>
                </a>
                <div class="collapse panel-collapse" id="exp-06-line-2">
                  <div class="panel-body">
                    <p>
                      On line 2, we call a function. The function is called <code class="language-javascript inline">alert</code>,
                      which is build in to your browser. It takes one argument, and pops up a box containing the
                      argument.
                    </p>
                    <p>
                      An argument is a bit of data that we give to a function to do something with. In this
                      case, it's a <code>String</code>.
                    </p>
                    <div class="alert alert-info">
                      A <code>String</code> is a programmer word for a piece of text. It must be surrounded by
                      quotation marks.
                    </div>
                    <p>
                      Try changing the text inside the quotes, before saving and reloading the page. What if
                      you remove the quotes, and write <code class="language-javascript inline">5 + 8</code>?
                    </p>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <a href="#exp-06-line-3" class="accordon-toggle" data-toggle="collapse" data-parent="#code-06-explain">
                  <pre class="line-numbers language-javascript" data-start="3"><code>}</code></pre>
                </a>
                <div class="collapse panel-collapse" id="exp-06-line-3">
                  <div class="panel-body">
                    <p>
                      This signals the end of our function definition. Any instruction we find now will be run
                      straight away (unless we ask for them not to be).
                    </p>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <a href="#exp-06-line-5" class="accordon-toggle" data-toggle="collapse" data-parent="#code-06-explain">
                  <pre class="line-numbers language-javascript" data-start="5"><code>$(document).on("ready", loadQuiz);</code></pre>
                </a>
                <div class="collapse panel-collapse" id="exp-06-line-5">
                  <div class="panel-body">
                    <p>
                      This is the most complicated line of code in our example. We'll deal with it in two parts.
                    </p>
                    <pre class="language-javascript"><code>$(document)</code></pre>
                    <p>
                      This calls a function named <code class="language-javascript inline">$</code>, with one argument,
                      <code class="language-javacript inline">document</code>. <code class="language-javascript inline">$</code>
                      is the jQuery function: it turns its argument into a jQuery object, which makes it easier for us
                      to manipulate.
                    </p>
                    <p>
                      <code class="language-javascript inline">document</code> is a special object that's given to
                      us by the browser to use. It's a representation of the document - your HTML page.
                    </p>
                    <pre class="language-javascript"><code>.on("ready", loadQuiz);</code></pre>
                    <p>
                      This calls <code class="language-javascript inline">on</code>, which is a function <em>on</em>
                      <code class="language-javascript inline">$(document)</code>. If something is a function on
                      something else, it means that it's an instruction for that specific object. For example,
                      you might program a robot by writing <code class="language-javascript inline">robot.moveForward()</code>:
                      the <code class="language-javascript inline">robot</code> part addresses the robot, then
                      <code class="language-javascript inline">moveForward()</code> gives it an instruction.
                    </p>
                    <p>
                      The function itself is part of jQuery. It is used when we want to do something in response
                      to an event. It takes two arguments: the name of the event,
                      <code class="language-javascript inline">"ready"</code>, and what to do when it happens,
                      which in this case is our <code class="language-javascript inline">loadQuiz</code> function.
                      Notice that the function isn't called with () brackets, only its name is passed in.
                    </p>
                    <div class="alert alert-info">
                      <strong>Note:</strong> an "event" is something that happens. For example, it may be the page loading,
                      or it may be something on the page being clicked, or it may be the device the page is shown on
                      being rotated into landscape mode.
                    </div>
                    <p>
                      So what does this actually do? Well, it waits until the page is fully loaded before executing
                      our function. We do this because otherwise we may end up trying to manipulate parts of the
                      page that the browser doesn't know about yet, which can lead to some weird errors.
                    </p>
                    <p>
                      Over all, this line basically says "When the document is ready, call the function loadQuiz".
                      What would happen if you changed <code class="language-javascript inline">"ready"</code>
                      to <code class="language-javascript inline">"click"</code>?
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              Storing and retrieving our questions.
            </p>
            <p>
              Now that we have jQuery and our Javascript file set up, we can start actually building our
              app. First though, we need our questions. We will store our questions using a format called JSON - JavaScript
              Object Notation. JSON is a way of storing data to be read by computers, whilst still being easy for
              people to understand too.
            </p>
            <p>
              Create a file called <code>questions.json</code>. Our JSON is a list, so everything goes inside <code>[ ]</code>
              square brackets. Then, each question is inside <code>{ }</code> curly braces, and separated with commas.
              JSON looks kind of like CSS: there's a property name (key), a colon, and then a value:
              <code class="language-javascript inline">{ "key": "value" }</code>. Give each question 3 properties:
              <code>question</code>, the question you're asking; <code>answer</code>, the URL to the answer image; and
              <code>theme</code>, a term to search Flickr for to get the other (incorrect) answers.
            </p>
            <p>
              Now, we need to load that data. Modify your Javascript file to use jQuery's
              <code class="language-javascript inline">$.get(...)</code> to <em>get</em> the questions. The first argument is
              the file we're getting, and the second is what we want to do when we've got it. In this case, we're using a
              function called <code>displayQuiz</code>. This function takes one argument (the questions) and logs it to the
              console so we can look at it.
            </p>
            <div class="alert alert-info">
              <strong>The console is super useful.</strong> You can use
              <code class="language-javascript inline">console.log</code> anywhere in your Javascript code to check the value
              of a variable. To access the console, right click on the page; choose 'Inspect Element', and then click 'Console'.
            </div>
          </div>
          <div class="col-sm-6 codeblock" data-example="07">
            <pre class="line-numbers" data-src="assets/examples/07-questions.js" data-type="json"></pre>
            <pre class="line-numbers" data-src="assets/examples/07-quiz.js" data-type="javascript"></pre>
          </div>
        </div>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              Writing templates for our questions.
            </p>
            <p>
              In order to efficiently and easily get our questions into the document, we can use a template engine. A
              template engine takes normal looking HTML, and lets us automatically insert data and repeat parts of it.
              We're going to use a template engine called <a href="http://handlebarsjs.com/">Handlebars.JS</a>. Download
              it and add add it to your page with a script tag, as shown on
              <a href="#ex-08-html:23" class="line-link">Line 23</a>.
            </p>
            <p>
              Next we need to write the template. Copy one of your <code class="language-markup inline">&lt;li&gt;</code>
              tags into a new <code class="language-markup inline">&lt;script&gt;</code> tag. Make sure the tag has a
              <code class="language-noop"><span class="token attr-name">type</span><span class="token attr-value"><span class="punctuation">=&quot;</span>text/html<span class="punctuation">&quot;</span></span></code>
              attribute, so the browser knows it isn't Javascript, and an
              <code class="language-noop"><span class="token attr-name">id</span></code> attribute you can use to
              identify it later.
            </p>
            <p>
              Now, we need to turn our HTML into a Handlebars template. In Handlebars, things inside of
              <code class="language-markup">{{ }}</code> double curly braces get replaced with data. Replace the question
              with <code class="language-markup">{{question}}</code>. Handlebars can also help us write less HTML:
              use <code class="language-markup">{{#each images}} ... {{/each}}</code> to output an image tag for
              every single image we will give it.
            </p>
            <p>
              Finally, we will use Handlebars logic to output a different image tag
              depending on whether the image is the correct answer.
              <code class="language-markup">{{#if correct}} ... {{else}} ... {{/if}}</code> will output the stuff before the
              <code class="language-markup">{{else}}</code> if <code>correct</code> is true, and the stuff after if not.
            </p>
          </div>
          <div class="col-sm-6 codeblock" data-example="08">
            <pre class="line-numbers" data-src="assets/examples/08-body.html" data-type="html"></pre>
          </div>
        </div>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              Getting data into our templates.
            </p>
            <p>
              In order to get the data from our JSON into our template and onto the page, we need to modify our Javascript,
              specifically our <code class="language-javascript inline">displayQuiz</code> function.
            </p>
            <p>
              First we get the <code class="language-markup inline">&lt;ol&gt;</code> element to put our questions
              (<a href="#ex-08-javascript:3" class="line-link">on line 3</a>) and prepare the template
              (<a href="#ex-08-javascript:6" class="line-link">on line 6</a>). On
              <a href="#ex-08-javascript:9" class="line-link"> line 9</a> we have a for loop. The contents of this is run
              once for every question in our list. E.G. if you have 6 question in your JSON, it will get run 6 times.
            </p>
            <p>
              The first thing we do in the loop is pull the answer out from the current question. Then, we make a Javascript
              object for our template: the <a href="#ex-08-javascript:14" class="line-link">question</a> property for
              <code class="language-markup inline">{{questions}}</code>, and the
              <a href="#ex-08-javascript:15" class="line-link">images</a> property, a list of objects. Each of those objects
              has two properties: <a href="#ex-08-javascript:17,21" class="line-link">url</a>, which points to the image we
              want, and <a href="#ex-08-javascript:18,22" class="line-link">correct</a>, which tells us whether this answer
              is the right one. We're just using the correct answer a couple of times as we don't have our Flickr data yet,
              but you should remember all of these properties from your template.
            </p>
            <div class="alert alert-info">
              <strong>Note:</strong> when we use
              <a href="#ex-08-javascript:10,14" class="line-link"><code class="language-markup inline">questions[i]</code></a>,
              it's like saying &quot;the <code>i</code>th value of <code class="language-markup inline">questions</code>&quot;.
              It starts counting from 0 though, so when i is 0, it will get the first question, when it's 1 it will get the
              second, and so on.
            </div>
            <p>
              Finally, on <a href="#ex-08-javascript:28" class="line-link">Line 28</a>, we combine our data and template, and
              add the result to the HTML in our <code class="language-markup inline">&lt;ol&gt;</code> element.
            </p>
            <p>
              When you test this, you should see two of your answer images for each question. Right click on the buttons and
              select &quot;inspect element&quot; to check that the classes have all been applied properly.
            </p>
          </div>
          <div class="col-sm-6 codeblock" data-example="08">
            <pre class="line-numbers" data-src="assets/examples/08-js.js" data-type="javascript"></pre>
          </div>
        </div>
      </section>

      <section id="flickr" class="clearfix">
        <h2 class="col-sm-12">Using the Flickr API</h2>
        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              To get started with the Flickr API, you need an API key.
            </p>
            <p>
              Visit <a target="_blank" href="http://www.flickr.com/services/apps/create/apply/">http://www.flickr.com/services/apps/create/apply/</a>
              and sign up for a Flickr API key. Once you have your key, <a class="line-link" href="#ex-09-javascript:1">store
              it in a variable</a> in your JS file.
            </p>
            <p>
              Now, we need to create a function to load photos for a given question. It needs to take one argument,
              <code class="language-javascript inline">question</code>, and should be called something along the lines of
              <a href="#ex-09-javascript:3" class="line-link"><code class="language-javascript inline">loadPhotos</code></a>.
              This function will access Flickr's API for us, to get the photos for our quiz.
            </p>
            <p>
              First, we need to construct the URL for searching Flickr. A quick browse round
              <a href="http://www.flickr.com/services/api/">the API documentation</a> shows us that
              <a href="http://www.flickr.com/services/api/flickr.photos.search.html">flickr.photos.search</a> is what we need
              to use. This method lets us specify a <a href="#ex-09-javascript:7" class="line-link">search term</a>, as well
              as  <a href="#ex-09-javascript:8" class="line-link">the number of photo's we want, how to sort the results,
              etc</a>. We also have to provide our <a href="#ex-09-javascript:6" class="line-link">API key</a> so Flickr can
              keep track of who's using what.
            </p>
            <p>
              Once we've constructed the URL to use, we're going to use jQuery to get the data for us. Just like we've used
              <code class="language-javascript inline">$.get</code> to get our question data, we can use
              <a class="line-link" href="#ex-09-javascript:11"><code class="language-javascript inline">$.getJSON</code></a>
              to get photo data from Flickr. Add a call to <code class="language-javascript inline">$.getJSON</code>, passing
              in the URL and a function that <code class="language-javascript inline">console.log</code>s the result. Refresh
              the page and look in the console for your photo data.
            </p>
          </div>
          <div class="col-sm-6 codeblock" data-example="09">
            <pre class="line-numbers" data-src="assets/examples/09-js.js" data-type="javascript"></pre>
          </div>
        </div>
        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              Getting Flickr photos into the document.
            </p>
            <p>
              Now, we need to do something useful with the data. There's an array of photos in
              <code class="language-javascript inline">data.photos.photo</code>. We can <a href="#ex-10-javascript:5" class="line-link">
              pull it out</a> of the response, and then start to use it.
            </p>
            <p>
              If you looked at the photo data in the console, you'll see that it's not in a state where we can easily use it.
              Our template needs a <code class="lanuage-javascript inline">url</code> and a
              <code class="lanuage-javascript inline">correct</code> property, but instead we've got things like
              <code class="lanuage-javascript inline">farm</code>,
              <code class="lanuage-javascript inline">server</code>, and
              <code class="lanuage-javascript inline">secret</code>. Luckily, we can use this data to create an object that
              our template can work with.
            </p>
            <p>
              Javascript has a function for arrays called <code class="language-javascript inline">map</code>. Map is used to
              transform an array into something new. For example, you might use map to change
              <code class="language-javascript inline">[1, 2, 3, 4, 5]</code> into
              <code class="language-javascript inline">[1, 4, 9, 16, 25]</code>. Map takes one argument, which is itself a
              function. This function takes an argument, which is an item from the array, and returns the modified item. In
              the example before, this might be written
              <code class="language-javascript inline">[1, 2, 3, 4, 5].map(function(n) { return n*n; })</code>.
            </p>
            <p>
              We will use <code class="language-javascript inline">map</code> to transform Flickr's data into something our
              template can use. Write a call to map, with a function that returns an object with url and correct properties.
              Correct will always be false for these photos, and the url can be obtained with the following expression:
            </p>
            <pre class="language-javascript"><code>'http://farm' + photo.farm + '.staticflickr.com/' + photo.server + '/' + photo.id + '_' + photo.secret + '.jpg'</code></pre>
            <p>
              Once that's all sorted (you may want to <code class="language-javascript inline">console.log</code> the result)
              we need to let the rest of our app know we're done. Change your <code class="language-javascript inline">loadPhotos</code>
              function so it takes on extra argument, <a class="line-link" href="#ex-10-javascript:1">
              <code class="language-javascript inline">callback</code></a>. This will be a function, so you can call it,
              passing in your <code class="language-javascript inline">map</code>'d data from flickr and the
              <code class="language-javascript inline">question</code> object.
            </p>
            <p>
              Finally, we need to modify the loop in <code class="language-javascript inline">displayQuiz</code>. Add a second
              argument, a function, to the <code class="language-javascript inline">loadQuiz</code> call, so it matches the
              callback we added above. Move all the template stuff from the loop into this function. Push the correct photo
              to the list. Now, we have a list of photos, but the correct one is always at the end. We need to shuffle them.
              Luckily, a quick Google search for &quot;shuffle javascript array&quot; turns up a great
              <a href="http://stackoverflow.com/questions/6274339/how-can-i-shuffle-an-array-in-javascript#answers-header">result</a>,
              which we can just paste into our code and use.
            </p>
            <p>
              Change your data object to use the shuffled array of photos form Flickr and we're done! Refresh the page, and
              you should see photos from flickr being loaded in along side your questions and answers.
            </p>
          </div>
          <div class="col-sm-6 codeblock" data-example="10">
            <pre class="line-numbers" data-src="assets/examples/10-js.js" data-type="javascript"></pre>
          </div>
        </div>
      </section>

      <section id="interaction" class="clearfix">
        <h2 class="col-sm-12">Interaction</h2>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              Answering questions
            </p>
            <p>
              Now we have the questions and images on the page, we need to be able to answer them. At the bottom of your
              <code class="language-javascript inline">displayQuiz</code> function, add a jQuery 'click' event listener to the
              document. Rather than just an event name and callback, like our <code class="language-javascript inline">ready</code>
              event, we will add a third argument to make sure that the event is triggered only for clicks on buttons.
            </p>
            <p>
              Inside the event handler function, we need to first find the clicked button, then all the other buttons. Once
              we have that, we need to make sure that none of the buttons have class <code>selected</code>, before adding the
              class to the clicked button. This way, only one button (the most recently clicked) per question ever has
              class selected.
            </p>
            <p>
              That won't appear to do anything on it's own. We need to indicate to our user whether we've selected a correct
              or incorrect button. To do this, we will use css. Write two new CSS selectors, one for selected correct answers,
              and one for selected incorrect answers. Use whatever rules you like here to indicate correct or incorrect -
              I just used <code class="language-noop inline"><span class="token property">background-color</span></code> to
              make correct answers green and incorrect answers red.
            </p>
            <p>
              Whilst we're editing you CSS, we can make another change: If you're questions are being laid out if a weird way,
              set the <code class="language-noop inline"><span class="token property">height</span></code> property on
              <code class="language-noop inline"><span class="token selector">li</span></code> to something larger than the
              height of the images in your questions.
            </p>
          </div>
          <div class="col-sm-6 codeblock" data-example="11">
            <pre class="line-numbers" data-src="assets/examples/11-js.js" data-type="javascript"></pre>
            <pre class="line-numbers" data-src="assets/examples/11-style.css" data-type="css"></pre>
          </div>
        </div>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">
              Keeping score
            </p>
            <p>
              Now that we've can answer our questions, we need to keep a score of how well the user is doing, and stop them
              from repeatedly changing their answers.
            </p>
            <p>
              First off, we need to set up some variables for scores. We'll need one for the score, and another for what the
              score is out of. Set them both to 0 to start off with. Then, we need to disable the buttons for that question
              when one's been clicked. We can do this be setting the <code>disabled</code> attribute on the buttons.
            </p>
            <p>
              You'll notice that this makes all the buttons fade a little bit. You can stop the selected question from
              fading by setting <code class="language-css inline">opacity: 1;</code> on things that are selected and disabled.
            </p>
            <p>
              Now we need to increase the scores when people click buttons. We want <code class="langauge-javascript inline">outof</code>
              to increase every time the user answers a question. <code class="language-javascript inline">score</code>
              should only increase if the clicked button has class <code>correct</code>.
            </p>
            <div class="alert alert-info">
              <strong>Incrementing numbers:</strong> adding one to a variable is a fairly common task in coding. That's why
              most languages (including Javascript) make it really easy to do:
              <code class="language-javascript inline">myVariable++</code> is the same as
              <code class="language-javascript inline">myVariable = myVariable + 1</code>.
            </div>
            <p>
              Keeping score is useless unless we tell the use what the score is. Add a
              <code class="language-markup inline">&lt;p&gt;</code> to the top bar. It'll need a few classes:
              <code class="language-noop"><span class="token attr-value">navbar-text</span></code> so it's nicely centered in
              the bar, <code class="language-noop"><span class="token attr-value">pull-right</span></code> to keep it to the
              right of the bar, and <code class="language-noop"><span class="token attr-value">score</span></code> so we can
              identify it later.
            </p>
            <p>
              Hooking this up to our score in Javascript is really easy: use jQuery to get the element
              <code class="language-noop"><span class="token selector">.score</span></code>, then set its text to be the
              score. Now, when you refresh the page, you should have a fully working quiz!
            </p>
          </div>
          <div class="col-sm-6 codeblock" data-example="12">
            <pre class="line-numbers" data-src="assets/examples/12-js.js" data-type="javascript"></pre>
            <pre class="line-numbers" data-src="assets/examples/12-style.css" data-type="css"></pre>
            <pre class="line-numbers" data-src="assets/examples/12-header.html" data-type="html"></pre>
          </div>
        </div>

        <div class="two-up">
          <div class="col-sm-6">
            <p class="lead">Saving user data.</p>
            <p>
              The last part of our quiz app is a feature that will let users compare their score to how they scored if they
              did the quiz previously. We'll start off with a space for this in our HTML. Add an element with a class you can
              use later on to identify it. Write a message to your user in the element, but where you would normally write
              their score, write an empty <code class="language-markup inline">&lt;span&gt;</code> tag, with a class you can
              use to identify it.
            </p>
            <p>
              Next, our JS. First, we need to actually save the score. To do this, we use the localStoarge API. This is a
              tool that lets us store data on our user's computer to be retrieved later, and it's really easy to use.
              Modify your <code>click</code> event handler so that every time the score is updated, you call
              <code class="language-javascript inline">localStorage.setItem()</code>, passing in two arguments: the name of
              what you're storing, and the value to store.
            </p>
            <p>
              Next, we need to retrieve the data when the user loads the page. Within the
              <code class="language-javascript inline">displayQuiz</code> function, add code that uses
              <code class="language-javascript inline">localStorage.getItem</code> to retrieve the scores, passing in one
              argument, the name that you used to store the data before. Check that the scores aren't <code>null</code> -
              if they are, it probably means the user hasn't taken the quiz yet. If the scores are defined, set the text
              of the span from before to the score.
            </p>
            <p>
              Finally, we want to hide the message by default, and only show it to users who have a previous score set.
              Add a rule to your CSS to hide the message, then add a line next to the one that sets the score text in the
              message to reveal the message.
            </p>
            <p>
              You can experiment with other stuff with localStorage - can you add a text box for users to write their name,
              and store and retrieve it for later sessions? What other ways can you think of that you can improve your quiz?
              Perhaps you can add non-picture questions.
            </p>
          </div>
          <div class="col-sm-6 codeblock">
            <pre class="line-numbers" data-src="assets/examples/13-body.html" data-type="html"></pre>
            <pre class="line-numbers" data-src="assets/examples/13-js.js" data-type="javascript"></pre>
            <pre class="line-numbers" data-src="assets/examples/13-style.css" data-type="css"></pre>
          </div>
        </div>
      </section>
    </div>

    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/prism.js"></script>
    <script src="assets/prism-hacktionary.js/hacktionary.js"></script>
    <script src="assets/prism-hacktionary.js/prism-hacktionary.js"></script>
    <script src="assets/js/prism-line-highlight.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
